function Czr_BrowserDetect(){Czr_Base.call(this),this.init()}function Czr_Plugins(){Czr_Base.call(this),this.init()}function Czr_Slider(){Czr_Base.call(this),this.init()}function Czr_UserExperience(){Czr_Base.call(this),this.init()}var $=jQuery,Czr_Base=function(){this.joie="property defined in Czr_Base",this.localized=TCParams,this.$_body=$("body"),this.reordered_blocks=!1,console.log("instanciated",this)},_czr_=Czr_Base.prototype;_czr_.triggerSimpleLoad=function(a){0!==a.length&&a.map(function(a,b){$(b).load(function(){$(b).trigger("simple_load")}),$(b)[0]&&$(b)[0].complete&&$(b).load()})},_czr_.emit=function(a,b){a=_.isArray(a)?a:[a];var c=this;_.map(a,function(a){"function"==typeof c[a]&&(c[a].apply(c,b),c.$_body.trigger(a,_.object(_.keys(b),b)))})},Czr_BrowserDetect.prototype=Object.create(Czr_Base.prototype),Czr_BrowserDetect.prototype.constructor=Czr_BrowserDetect;var _browser_detect_=Czr_BrowserDetect.prototype;_browser_detect_.init=function(){$.browser.chrome?this.$_body.addClass("chrome"):$.browser.webkit?this.$_body.addClass("safari"):($.browser.msie||"8.0"===$.browser.version||"9.0"===$.browser.version||"10.0"===$.browser.version||"11.0"===$.browser.version)&&this.$_body.addClass("ie").addClass("ie"+$.browser.version.replace(/[.0]/g,"")),this.$_body.hasClass("ie")&&this.$_body.addClass($.browser.version)},Czr_Plugins.prototype=Object.create(Czr_Base.prototype),Czr_Plugins.prototype.constructor=Czr_Plugins;var _plugs_=Czr_Plugins.prototype;_plugs_.init=function(){setTimeout(this.emit("CenterImages"),300),this.emit(["ImgSmartLoad","DropCaps","ExtLinks","FancyBox"])},_plugs_.ImgSmartLoad=function(){if(1==TCParams.imgSmartLoadEnabled)$(".article-container, .__before_main_wrapper, .widget-front").imgSmartLoad(_.size(TCParams.imgSmartLoadOpts)>0?TCParams.imgSmartLoadOpts:{});else{var a=$(".article-container, .__before_main_wrapper, .widget-front").find("img");this.triggerSimpleLoad(a)}},_plugs_.DropCaps=function(){TCParams.dropcapEnabled&&!_.isObject(TCParams.dropcapWhere)&&$.each(TCParams.dropcapWhere,function(a,b){1==b&&$(".entry-content","body."+("page"==a?"page":"single-post")).children().first().addDropCap({minwords:TCParams.dropcapMinWords,skipSelectors:_.isObject(TCParams.dropcapSkipSelectors)?TCParams.dropcapSkipSelectors:{}})})},_plugs_.ExtLinks=function(){(TCParams.extLinksStyle||TCParams.extLinksTargetExt)&&$("a",".entry-content").extLinks({addIcon:TCParams.extLinksStyle,newTab:TCParams.extLinksTargetExt,skipSelectors:_.isObject(TCParams.extLinksSkipSelectors)?TCParams.extLinksSkipSelectors:{}})},_plugs_.FancyBox=function(){1==TCParams.FancyBoxState&&"function"==typeof $.fn.fancybox&&($("a.grouped_elements").fancybox({transitionOut:"elastic",transitionIn:"elastic",speedIn:200,speedOut:200,overlayShow:!1,autoScale:1==TCParams.FancyBoxAutoscale?"true":"false",changeFade:"fast",enableEscapeButton:!0}),$("a[rel*=tc-fancybox-group]").each(function(){var a=$(this).find("img").prop("title"),b=$(this).find("img").prop("alt");"undefined"!=typeof a&&0!==a.length?$(this).attr("title",a):"undefined"!=typeof b&&0!==b.length&&$(this).attr("title",b)}))},_plugs_.CenterImages=function(){setTimeout(function(){$(".carousel .carousel-inner").centerImages({enableCentering:1==TCParams.centerSliderImg,imgSel:".item .carousel-image img",oncustom:["slid","simple_load"],defaultCSSVal:{width:"100%",height:"auto"},useImgAttr:!0}),$(".tc-slider-loader-wrapper").hide()},50),$(".widget-front .thumb-wrapper").centerImages({enableCentering:1==TCParams.centerAllImg,enableGoldenRatio:!1,disableGRUnder:0,zeroTopAdjust:1,leftAdjust:2.5,oncustom:["smartload","simple_load"]}),$(".thumb-wrapper",".hentry").centerImages({enableCentering:1==TCParams.centerAllImg,enableGoldenRatio:!1,disableGRUnder:0,oncustom:["smartload","simple_load"]}),$(".tc-rectangular-thumb").centerImages({enableCentering:1==TCParams.centerAllImg,enableGoldenRatio:!0,goldenRatioVal:TCParams.goldenRatio||1.618,disableGRUnder:0,oncustom:["smartload","refresh-height","simple_load"]}),$(".tc-rectangular-thumb",".single").centerImages({enableCentering:1==TCParams.centerAllImg,enableGoldenRatio:!1,disableGRUnder:0,oncustom:["smartload","refresh-height","simple_load"]}),$(".tc-grid-figure").centerImages({enableCentering:1==TCParams.centerAllImg,oncustom:["smartload","simple_load"],enableGoldenRatio:!0,goldenRatioVal:TCParams.goldenRatio||1.618,goldenRatioLimitHeightTo:TCParams.gridGoldenRatioLimit||350})},Czr_Slider.prototype=Object.create(Czr_Base.prototype),Czr_Slider.prototype.constructor=Czr_Slider;var _slider_=Czr_Slider.prototype;_slider_.init=function(){this.emit(["fireSliders","manageHoverClass","CenterSliderArrows","addSwipeSupport"]),this.triggerSimpleLoad($(".carousel .carousel-inner").find("img"));var a=this;$(window).resize(function(){a.CenterSliderArrows()})},_slider_.fireSliders=function(a,b,c){var d=a||TCParams.SliderName,e=b||TCParams.SliderDelay;_hover=c||TCParams.SliderHover,0!==d.length&&(0===e.length||_hover?0!==e.length?$("#customizr-slider").carousel({interval:e}):$("#customizr-slider").carousel():$("#customizr-slider").carousel({interval:e,pause:"false"}))},_slider_.manageHoverClass=function(){$(".carousel").hover(function(){$(this).addClass("tc-slid-hover")},function(){$(this).removeClass("tc-slid-hover")})},_slider_.CenterSliderArrows=function(){0!==$(".carousel").length&&$(".carousel").each(function(){var a=$(".carousel-inner",$(this)).height();$(".tc-slider-controls",$(this)).css("line-height",a+"px").css("max-height",a+"px")})},_slider_.addSwipeSupport=function(){"function"==typeof $.fn.hammer&&($(".carousel input, .carousel button, .carousel textarea, .carousel select, .carousel a").on("touchstart touchmove",function(a){a.stopPropagation()}),$(".carousel").each(function(){$(this).hammer().on("swipeleft tap",function(){$(this).carousel("next")}),$(this).hammer().on("swiperight",function(){$(this).carousel("prev")})}))},Czr_UserExperience.prototype=Object.create(Czr_Base.prototype),Czr_UserExperience.prototype.constructor=Czr_UserExperience;var _userxp_=Czr_UserExperience.prototype;_userxp_.init=function(){this.emit(["anchorSmoothScroll","backToTop","widgetsHoverActions","attachmentsFadeEffect","clickableCommentButton","dynSidebarReorder"]);var a=this;$(window).resize(function(){setTimeout(a.emit("emitSidebarReorderEvent"),200)})},_userxp_.anchorSmoothScroll=function(){if(TCParams.SmoothScroll&&"easeOutExpo"==TCParams.SmoothScroll){var a=TCParams.SmoothScrollExclude&&_.isArray(TCParams.SmoothScrollExclude)?TCParams.SmoothScrollExclude.join(","):"";$('a[href^="#"]',"#content").not(a).click(function(){var a=$(this).attr("href");if($(a).length)return"#"!=a&&$("html, body").animate({scrollTop:$(a).offset().top},700,TCParams.SmoothScroll),!1})}},_userxp_.backToTop=function(){var a=$("html, body"),b=function(c){return(c.which>0||"mousedown"===c.type||"mousewheel"===c.type)&&a.stop().off("scroll mousedown DOMMouseScroll mousewheel keyup",b)};$(".back-to-top, .tc-btt-wrapper, .btt-arrow").on("click touchstart touchend",function(c){a.on("scroll mousedown DOMMouseScroll mousewheel keyup",b),a.animate({scrollTop:0},1e3,function(){a.stop().off("scroll mousedown DOMMouseScroll mousewheel keyup",b)}),c.preventDefault()})},_userxp_.widgetsHoverActions=function(){$(".widget-front, article").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$(".widget li").hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")})},_userxp_.attachmentsFadeEffect=function(){$("article.attachment img").delay(500).animate({opacity:1},700,function(){})},_userxp_.clickableCommentButton=function(){TCParams.HasComments&&($("cite p.edit-link").each(function(){$(this).removeClass("btn btn-success btn-mini")}),$("cite p.edit-link > a").each(function(){$(this).addClass("btn btn-success btn-mini")}),$(".comment .reply").each(function(){$(this).removeClass("btn btn-small")}),$(".comment .reply .comment-reply-link").each(function(){$(this).addClass("btn btn-small")}))},_userxp_.dynSidebarReorder=function(){var a=this;this.$_body.on("reorder-sidebars",function(b,c){a.listenToSidebarReorderEvent(b,c)}),this.emit("emitSidebarReorderEvent")},_userxp_.emitSidebarReorderEvent=function(){if(1==TCParams.ReorderBlocks){var a=$(window).width();a>752&&this.reordered_blocks?this.$_body.trigger("reorder-sidebars",{to:"normal"}):752>=a&&!this.reordered_blocks&&this.$_body.trigger("reorder-sidebars",{to:"responsive"})}},_userxp_.listenToSidebarReorderEvent=function(a,b){if(1==TCParams.ReorderBlocks){b=_.isObject(b)?b:{to:"normal"},b.to=b.to||"normal";{var c=TCParams.LeftSidebarClass||".span3.left.tc-sidebar",d=TCParams.RightSidebarClass||".span3.right.tc-sidebar",e=$("#main-wrapper .container[role=main] > .column-content-wrapper"),f=$("#main-wrapper .container .article-container"),g=$("#main-wrapper .container "+c),h=$("#main-wrapper .container "+d);$(window).width()}switch(b.to){case"normal":g.length&&(g.detach(),f.detach(),e.append(g).append(f)),h.length&&(h.detach(),e.append(h)),this.reordered_blocks=!1;break;case"responsive":g.length&&(g.detach(),f.detach(),e.append(f).append(g)),h.length&&(h.detach(),e.append(h)),this.reordered_blocks=!0}}},jQuery(function(a){TCParams&&!_.isEmpty(TCParams)&&(new Czr_BrowserDetect,new Czr_Plugins,new Czr_Slider,new Czr_UserExperience)});